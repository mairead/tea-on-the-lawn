$(document).ready(function(){function e(e){var o=$("a[name='"+e+"']");$("html,body").animate({scrollTop:o.offset().top},"slow")}var o=$("#names"),n=$("#validation-msg"),a=$("#attending"),t=$("#notAttending"),s=$("#attending-msg");$("#notAttending").bind("change",function(e){var o=$(e.target);o.is(":checked")&&($("#form-questions").hide(),$("#sorry-msg").show())}),o.bind("blur",function(){o.val()?n.hide():n.show()}),$(a,t).bind("blur",function(){a.is(":checked")||a.is(":checked")?s.hide():s.show()}),$(a,t).bind("click",function(){a.is(":checked")||a.is(":checked")?s.hide():s.show()}),$form=$("#form-action"),$form.bind("submit",function(t){o.val()||(t.preventDefault(),n.show(),e("first-question")),a.is(":checked")||a.is(":checked")||(t.preventDefault(),s.show(),e("first-question"))});var m=[{name:"Stowford Manor Farm",url:"http://www.stowfordmanorfarm.co.uk",lat:"51.31811432866838",lon:"-2.273397445678711",summary:"Wedding venue"},{name:"Hartley Farm",url:"http://www.hartley-farm.co.uk",lat:"51.355033236947925",lon:"-2.2861862182617188",summary:"Farm shop with a good cafe."},{name:"Lock Inn Cafe",url:"http://www.thelockinn.co.uk",lat:"51.3415640958471",lon:"-2.252047061920166",summary:"Big servings of nice food. Giant fry-ups available."},{name:"The New Inn",url:"http://www.thenewinnwestwood.co.uk",lat:"51.330103833288085",lon:"-2.2684460878372192",summary:"Pub with food."},{name:"Hungerford Arms",url:"http://www.hungerfordarms.co.uk",lat:"51.31647313346644",lon:"-2.2886109352111816",summary:"Pub that should be better than it is. Fine for beer in the sun."},{name:"The Poplars",url:"http://www.poplarsinn.co.uk",lat:"51.30963782091155",lon:"-2.2576475143432617",summary:"Good pub, nice food."},{name:"Sainsburys",url:"http://www.sainsburys.co.uk/sol/storelocator/storelocator_detail_view.jsp?storeId=2143&bmForm=store_details",lat:"51.33727458308745",lon:"-2.2522830963134766",summary:"Should provide for all your cash, booze and snacking needs"}],g=[{name:"Stowford Manor Farm",url:"http://www.stowfordmanorfarm.co.uk",lat:"51.31811432866838",lon:"-2.273397445678711",summary:"Wedding venue"},{name:"Old Manor hotel",url:"http://www.oldmanorhotel.com",lat:"51.32691107277062",lon:"-2.2278213500976562",summary:"Nice posh hotel."},{name:"Home Farm Guest House",url:"http://www.homefarm-guesthouse.co.uk",lat:"51.315056528599236",lon:"-2.2590208053588867",summary:"Weird but convenient B&B."},{name:"The Granary",url:"http://www.thegranarybedandbreakfastbath.co.uk",lat:"51.29912048296244",lon:"-2.285757064819336",summary:"Fancy B&B."},{name:"Bath Lodge Castle",url:"http://www.bathlodgecastle.co.uk",lat:"51.30467458163684",lon:"-2.304854393005371",summary:"Posh Hotel."},{name:"The George Inn",url:"http://www.georgeinnsp.co.uk/home",lat:"51.30078409992866",lon:"-2.324960231781006",summary:"Nice looking pub with rooms."}];if($("#eating-map-canvas").length>0){var r=new google.maps.LatLng(51.31811432866838,-2.273397445678711),l=[],i=[];infoWindowsOpen=[];var p,w={center:r,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP},d=new google.maps.Map(document.getElementById("eating-map-canvas"),w),u=new google.maps.MarkerImage("/img/marker-eating.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(26,74)),c=new google.maps.MarkerImage("/img/marker-shadow.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(10,74)),h=new google.maps.MarkerImage("/img/marker-cash.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(26,74)),f=new google.maps.MarkerImage("/img/marker-venue.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(26,74));$(m).each(function(e,o){p="Sainsburys"===o.name?h:"Stowford Manor Farm"===o.name?f:u;var n=new google.maps.Marker({map:d,icon:p,shadow:c,position:new google.maps.LatLng(parseFloat(o.lat),parseFloat(o.lon))});l.push(n);var a=new google.maps.InfoWindow({content:"<div class='info-window'><p class='map-name'><a href='"+o.url+"'>"+o.name+"</a></p><p>"+o.summary+"</p></div>"});google.maps.event.addListener(n,"click",function(){$(infoWindowsOpen).each(function(){this.close()}),a.open(d,n),infoWindowsOpen.push(a)}),i.push(new google.maps.LatLng(parseFloat(o.lat),parseFloat(o.lon)))});for(var k=new google.maps.LatLngBounds,v=0;i.length>v;v++)k.extend(i[v]);d.setCenter(k.getCenter()),d.fitBounds(k)}if($("#sleeping-map-canvas").length>0){var r=new google.maps.LatLng(51.31811432866838,-2.273397445678711),l=[],i=[];infoWindowsOpen=[];var p,w={center:r,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP},d=new google.maps.Map(document.getElementById("sleeping-map-canvas"),w),u=new google.maps.MarkerImage("/img/marker-accommodation.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(26,74)),c=new google.maps.MarkerImage("/img/marker-shadow.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(10,74)),f=new google.maps.MarkerImage("/img/marker-venue.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(26,74));$(g).each(function(e,o){p="Stowford Manor Farm"===o.name?f:u;var n=new google.maps.Marker({map:d,icon:p,shadow:c,position:new google.maps.LatLng(parseFloat(o.lat),parseFloat(o.lon))});l.push(n);var a=new google.maps.InfoWindow({content:"<div class='info-window'><p class='map-name'><a href='"+o.url+"'>"+o.name+"</a></p><p>"+o.summary+"</p></div>"});google.maps.event.addListener(n,"click",function(){$(infoWindowsOpen).each(function(){this.close()}),a.open(d,n),infoWindowsOpen.push(a)}),i.push(new google.maps.LatLng(parseFloat(o.lat),parseFloat(o.lon)))});for(var k=new google.maps.LatLngBounds,v=0;i.length>v;v++)k.extend(i[v]);d.setCenter(k.getCenter()),d.fitBounds(k)}if($("#map-canvas").length>0){var r=new google.maps.LatLng(51.31811432866838,-2.273397445678711),w={center:r,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP},d=new google.maps.Map(document.getElementById("map-canvas"),w),u=new google.maps.MarkerImage("/img/marker-venue.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(26,74)),c=new google.maps.MarkerImage("/img/marker-shadow.png",new google.maps.Size(52,74),new google.maps.Point(0,0),new google.maps.Point(10,74)),y=new google.maps.Marker({map:d,icon:u,shadow:c,position:r}),b=new google.maps.InfoWindow({content:"<div class='info-window'><p class='map-name'><a href='http://www.stowfordmanorfarm.co.uk/'>Stowford Manor Farm</a></p></div>"});google.maps.event.addListener(y,"click",function(){b.open(d,y)})}});